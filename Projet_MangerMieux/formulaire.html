<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8'>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" crossorigin="anonymous"></script>
    </head>
    <body>
        <form id="addAliment" action="" onsubmit="onGet();">
            <div class="col-sm-2">
                <input type="text" id="code">
                 <input type="submit" value="ajout">
            </div>
        </form> 

    </body>
<script>
   function onFormSubmit() {
    // prevent the form to be sent to the server
    event.preventDefault();
    let nom = $("#code").val();
    let dataToSend = {
        name: code,
    };
    let jsonData = JSON.stringify(dataToSend);
    $.ajax({
            url: "remplir.php",
            method: "POST",
            dataType : "json",
            data:jsonData
        })
        .done(function(response){
            console.log(response);
            $("#studentsTableBody").append(`<tr id = ${response.id}><td>${response.id}</td><td>${response.name}</td><td>${response.email}</td><td><button onclick="onDelete(${response.id});">Delete</button></td>`)
        }) 
        .fail(function(error){
            console.log(nom)
        alert("La requête s'est terminée en échec. Infos : " + JSON.stringify(error));})
    }

</script>
</html>
